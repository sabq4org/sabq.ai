# ๐บ๏ธ ุฎุฑูุทุฉ ุงูุนูุงูุงุช ุจูู ุงูููุงูุงุช

## ๐ ุขุฎุฑ ุชุญุฏูุซ: 19 ููููู 2025

---

## ๐ ูุฎุทุท ุงูุนูุงูุงุช ุงูุฑุฆูุณู

```mermaid
erDiagram
    USERS ||--o{ ARTICLES : writes
    USERS ||--o{ USER_ARTICLE_INTERACTIONS : makes
    USERS ||--|| USER_LOYALTY_POINTS : has
    USERS ||--o{ USER_INTERESTS : has
    USERS ||--|| USER_PREFERENCES : has
    USERS ||--o{ MESSAGES : sends
    USERS ||--o{ MESSAGES : receives
    USERS ||--o{ ADMIN_LOGS : performs
    USERS ||--o{ SAVED_ARTICLES : saves
    USERS ||--o{ COMMENTS : writes
    
    ARTICLES }o--|| CATEGORIES : belongs_to
    ARTICLES ||--o{ ARTICLE_TAGS : has
    ARTICLES ||--o{ USER_ARTICLE_INTERACTIONS : receives
    ARTICLES ||--o{ SAVED_ARTICLES : saved_by
    ARTICLES ||--o{ COMMENTS : has
    
    CATEGORIES ||--o{ CATEGORIES : has_parent
    CATEGORIES ||--o{ USER_PREFERRED_CATEGORIES : preferred_by
    
    USER_ARTICLE_INTERACTIONS ||--o{ POINTS_TRANSACTIONS : generates
    
    TEMPLATES ||--|| ACTIVE_HEADER : current
    
    TAGS ||--o{ ARTICLE_TAGS : tagged_in
```

---

## ๐ ุชูุงุตูู ุงูุนูุงูุงุช

### 1. ุงููุณุชุฎุฏููู (USERS)

#### ุงูุนูุงูุงุช ุงูุตุงุฏุฑุฉ:
- **ููุชุจ** โ ููุงูุงุช (1:N)
- **ูุชูุงุนู ูุน** โ ููุงูุงุช (M:N ุนุจุฑ USER_ARTICLE_INTERACTIONS)
- **ูููู** โ ููุงุท ููุงุก (1:1)
- **ูู** โ ุงูุชูุงูุงุช (1:N)
- **ูู** โ ุชูุถููุงุช (1:1)
- **ูุฑุณู** โ ุฑุณุงุฆู (1:N)
- **ูุณุชูุจู** โ ุฑุณุงุฆู (1:N)
- **ูุญูุธ** โ ููุงูุงุช (M:N ุนุจุฑ SAVED_ARTICLES)
- **ูุนูู ุนูู** โ ููุงูุงุช (1:N ุนุจุฑ COMMENTS)

#### ุงูุญููู ุงูุฑุฆูุณูุฉ:
```json
{
  "id": "ุงููุนุฑู ุงููุฑูุฏ",
  "email": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุฑูุฏ)",
  "role": "ุงูุฏูุฑ ูู ุงููุธุงู",
  "status": "ุญุงูุฉ ุงูุญุณุงุจ",
  "loyaltyPoints": "ููุงุท ุงูููุงุก ุงููุญุณูุจุฉ"
}
```

### 2. ุงูููุงูุงุช (ARTICLES)

#### ุงูุนูุงูุงุช ุงูุตุงุฏุฑุฉ:
- **ููุชูู ุฅูู** โ ุชุตููู (N:1)
- **ูุชุจู** โ ูุณุชุฎุฏู (N:1)
- **ูู** โ ูุณูู (M:N ุนุจุฑ ARTICLE_TAGS)
- **ูุชููู** โ ุชูุงุนูุงุช (1:N)
- **ูุญููุธ ูู** โ ูุณุชุฎุฏููู (M:N)
- **ูู** โ ุชุนูููุงุช (1:N)

#### ุงูุญููู ุงูุฑุฆูุณูุฉ:
```json
{
  "id": "ุงููุนุฑู ุงููุฑูุฏ",
  "slug": "ุงูุฑุงุจุท ุงูุซุงุจุช (ูุฑูุฏ)",
  "category_id": "ูุนุฑู ุงูุชุตููู",
  "author_id": "ูุนุฑู ุงููุงุชุจ",
  "status": "ุญุงูุฉ ุงููุดุฑ"
}
```

### 3. ุงูุชุตูููุงุช (CATEGORIES)

#### ุงูุนูุงูุงุช:
- **ูุญุชูู** โ ููุงูุงุช (1:N)
- **ูู ุฃุจ** โ ุชุตููู ุขุฎุฑ (N:1 ุฐุงุชู)
- **ููุถู ูู** โ ูุณุชุฎุฏููู (M:N)

#### ุงููููู ุงููุฑูู:
```
ุชุตููู ุฑุฆูุณู
โโโ ุชุตููู ูุฑุนู 1
โ   โโโ ุชุตููู ูุฑุนู 1.1
โ   โโโ ุชุตููู ูุฑุนู 1.2
โโโ ุชุตููู ูุฑุนู 2
```

### 4. ูุธุงู ุงูููุงุก

#### ุงูุนูุงูุงุช:
```
USER โ USER_LOYALTY_POINTS (1:1)
     โ USER_ARTICLE_INTERACTIONS โ POINTS_TRANSACTIONS
```

#### ุชุฏูู ุงูููุงุท:
1. ุงููุณุชุฎุฏู ูุชูุงุนู ูุน ููุงู
2. ููุณุฌู ุงูุชูุงุนู ูู USER_ARTICLE_INTERACTIONS
3. ุชูุญุณุจ ุงูููุงุท ูุชูุถุงู ุฅูู USER_LOYALTY_POINTS
4. ููุณุฌู ุงูุชุญุฏูุซ ูู POINTS_TRANSACTIONS

### 5. ุงูุชูุงุนูุงุช (INTERACTIONS)

#### ุฃููุงุน ุงูุชูุงุนูุงุช ูููุงุทูุง:
| ุงูููุน | ุงูููุงุท | ุงููุตู |
|-------|--------|-------|
| view | 1 | ูุดุงูุฏุฉ ุงูููุงู |
| read | 10 | ูุฑุงุกุฉ 80% ูู ุงูููุงู |
| like | 5 | ุงูุฅุนุฌุงุจ ุจุงูููุงู |
| share | 15 | ูุดุงุฑูุฉ ุงูููุงู |
| save | 5 | ุญูุธ ุงูููุงู |

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ูุฑุงุกุฉ ููุงู
```
1. USER โ views โ ARTICLE
2. System โ creates โ USER_ARTICLE_INTERACTION (type: view)
3. System โ awards โ 1 point
4. System โ updates โ USER_LOYALTY_POINTS
5. System โ logs โ POINTS_TRANSACTION
```

### ุณููุงุฑูู 2: ูุดุฑ ููุงู ุฌุฏูุฏ
```
1. EDITOR โ creates โ ARTICLE (status: draft)
2. EDITOR โ assigns โ CATEGORY
3. EDITOR โ adds โ TAGS
4. ADMIN โ reviews โ ARTICLE
5. ADMIN โ publishes โ ARTICLE
6. System โ logs โ ADMIN_LOG
7. System โ updates โ CATEGORY.article_count
```

### ุณููุงุฑูู 3: ุชุฎุตูุต ุงููุญุชูู
```
1. System โ analyzes โ USER_ARTICLE_INTERACTIONS
2. System โ identifies โ preferred CATEGORIES
3. System โ updates โ USER_PREFERRED_CATEGORIES
4. System โ calculates โ recommendation scores
5. Frontend โ displays โ personalized content
```

---

## ๐ ุฅุญุตุงุฆูุงุช ุงูุนูุงูุงุช

### ูุซุงูุฉ ุงูุจูุงูุงุช ุงููุชููุนุฉ:
- **ูุณุชุฎุฏู ูุงุญุฏ**: ~100 ุชูุงุนู/ุดูุฑ
- **ููุงู ูุงุญุฏ**: ~1000 ูุดุงูุฏุฉ/ููู
- **ุชุตููู ูุงุญุฏ**: ~50 ููุงู/ุดูุฑ

### ูุณุจ ุงูุนูุงูุงุช:
- **ูุณุชุฎุฏููู:ููุงูุงุช** = 1000:1 (ููู 1000 ูุณุชุฎุฏูุ ูุงุชุจ ูุงุญุฏ)
- **ููุงูุงุช:ุชูุงุนูุงุช** = 1:500 (ูู ููุงู ูุญุตู ุนูู 500 ุชูุงุนู)
- **ูุณุชุฎุฏููู:ููุงุท** = 1:1 (ูู ูุณุชุฎุฏู ูู ุณุฌู ููุงุท ูุงุญุฏ)

---

## ๐ ููุงุนุฏ ุงูุชูุงูู

### 1. ุชูุงูู ุงูุจูุงูุงุช (Data Integrity)
- ูุง ูููู ุญุฐู ูุณุชุฎุฏู ูู ููุงูุงุช ููุดูุฑุฉ
- ูุง ูููู ุญุฐู ุชุตููู ูุญุชูู ุนูู ููุงูุงุช
- ุงูููุงุท ูุง ูููู ุฃู ุชููู ุณุงูุจุฉ

### 2. ููุงุนุฏ ุงูุฃุนูุงู (Business Rules)
- ุงููุณุชุฎุฏู ูุง ููููู ุงูุชูุงุนู ูุน ููุณ ุงูููุงู ุจููุณ ุงูุทุฑููุฉ ูุฑุชูู
- ุงูููุงุท ุชูุญุณุจ ูุฑุฉ ูุงุญุฏุฉ ููุท ููู ุชูุงุนู
- ุงูููุงูุงุช ุงููุฌุฏููุฉ ุชููุดุฑ ุชููุงุฆูุงู ูู ููุชูุง

### 3. ุงูุฃูุงู (Security)
- ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุฏุงุฆูุงู
- ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุง ุชูุฑุฌุน ูู APIs
- ุงูุณุฌูุงุช ุชุญูุธ ุฌููุน ุงูุนูููุงุช ุงูุญุฑุฌุฉ

---

## ๐๏ธ ุฃุฏูุงุช ูููุฏุฉ

### ุงุณุชุนูุงูุงุช ุดุงุฆุนุฉ:

#### 1. ุฌูุจ ููุงูุงุช ูุณุชุฎุฏู ูุน ุงูุชูุงุนูุงุช:
```sql
SELECT a.*, 
       COUNT(DISTINCT uai.id) as interaction_count,
       SUM(uai.points_earned) as total_points
FROM articles a
LEFT JOIN user_article_interactions uai ON a.id = uai.article_id
WHERE a.author_id = ?
GROUP BY a.id;
```

#### 2. ุญุณุงุจ ูุณุชูู ุงูุนุถููุฉ:
```javascript
function getMembershipLevel(points) {
  if (points >= 2001) return 'ุณููุฑ';
  if (points >= 501) return 'ุฐูุจู';
  if (points >= 101) return 'ูุถู';
  return 'ุจุฑููุฒู';
}
```

#### 3. ุฌูุจ ุงููุญุชูู ุงููุฎุตุต:
```sql
SELECT a.* 
FROM articles a
JOIN user_preferred_categories upc ON a.category_id = upc.category_id
WHERE upc.user_id = ?
  AND a.status = 'published'
ORDER BY upc.score DESC, a.published_at DESC
LIMIT 10;
```

---

## ๐ ููุงุญุธุงุช ุงูุชุทููุฑ

### 1. ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ:
- ุฅุถุงูุฉ ูุธุงู ุชูุตูุงุช ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
- ุชุทุจูู GraphQL ููุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ
- ูุธุงู cache ูุชูุฏู ูุน Redis

### 2. ุงูุฃุฏุงุก:
- ููุฑุณุฉ ุฌููุน foreign keys
- ุงุณุชุฎุฏุงู eager loading ููุนูุงูุงุช
- ุชุทุจูู pagination ุนูู ุฌููุน ุงูููุงุฆู

### 3. ุงููุงุจููุฉ ููุชูุณุน:
- ุชุตููู ูุฏุนู sharding
- APIs stateless
- ูุนุฑูุงุช UUID ููุชูุฒูุน

---

ูุฐุง ุงููุณุชูุฏ ููุญุฏุซ ุจุดูู ุฏูุฑู ูุน ุชุทูุฑ ุงููุธุงู. 