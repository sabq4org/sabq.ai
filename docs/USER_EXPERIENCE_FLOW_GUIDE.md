# ุฏููู ุชุฏูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ููุธุงู ุงูููุงุก - ุตุญููุฉ ุณุจู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุชูุนูู ูุธุงู ุงูููุงุก ูู ุตุญููุฉ ุณุจูุ ูุชุถูู ุฅุตูุงุญ ูุดุงูู ุงูุงูุชูุงูุงุช ูุชูุนูู ุชุชุจุน ุงูุชูุงุนูุงุช ูููุงุท ุงูููุงุก.

## ๐ฏ ุงููุดุงูู ุงููุญูููุฉ

### 1. ูุดููุฉ ุงูุงูุชูุงูุงุช ูู ุงูููู ุงูุดุฎุตู
- **ุงููุดููุฉ**: ุนุฏู ุญูุธ ุงูุงูุชูุงูุงุช ูุนููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงููุดููุฉ**: ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ 404 ุจุนุฏ ุงุฎุชูุงุฑ ุงูุงูุชูุงูุงุช
- **ุงูุญู**: ุฑุจุท ุงูุงูุชูุงูุงุช ุจููู ุงููุณุชุฎุฏู ูุชูุฌููู ูุตูุญุฉ ุชุฌุฑุจุฉ ูุฎุตุตุฉ

### 2. ูุธุงู ุงูููุงุก ูุงูุฃูุดุทุฉ ุบูุฑ ููุนูู
- **ุงููุดููุฉ**: ุนุฑุถ ููุงุท ุงูููุงุก ุจู"ุตูุฑ" ุฏุงุฆูุงู
- **ุงููุดููุฉ**: ุนุฏู ุชุณุฌูู ุงูุชูุงุนูุงุช ูุงูุฃูุดุทุฉ
- **ุงูุญู**: ูุธุงู ุดุงูู ูุชุชุจุน ุงูุชูุงุนูุงุช ูุญุณุงุจ ุงูููุงุท

### 3. ุนุฏู ูุฌูุฏ ุชุฌุฑุจุฉ ูุฎุตุตุฉ
- **ุงููุดููุฉ**: ุนุฏู ูุฌูุฏ ุตูุญุฉ ุชุฑุญูุจูุฉ ุจุนุฏ ุงูุงูุชูุงูุงุช
- **ุงูุญู**: ุตูุญุฉ ุชุฌุฑุจุฉ ูุฎุตุตุฉ ูุน ููุงูุงุช ููุชุฑุญุฉ ูููุงุท ุงูููุงุก

## ๐๏ธ ุงูููููุงุช ุงููุทูุฑุฉ

### 1. ูุธุงู ุงูุงูุชูุงูุงุช ุงููุญุณู
**ุงูููู**: `app/welcome/preferences/page.tsx`

**ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ**:
- ุญูุธ ุงูุงูุชูุงูุงุช ูู localStorage ู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ููุญ 5 ููุงุท ููุงุก ุนูุฏ ุฅุชูุงู ุงูุงูุชูุงูุงุช
- ุชูุฌูู ุชููุงุฆู ูุตูุญุฉ ุงูุชุฌุฑุจุฉ ุงููุฎุตุตุฉ
- ูุงุฌูุฉ ุชูุงุนููุฉ ูุญุณูุฉ

**ูุซุงู ุงูุงุณุชุฎุฏุงู**:
```typescript
const handleSave = async () => {
  try {
    // ุญูุธ ุงูุงูุชูุงูุงุช
    const userData = { id: userId, name: userName, interests: selectedInterests };
    localStorage.setItem('user', JSON.stringify(userData));
    
    // ููุญ ููุงุท ุงูููุงุก
    await fetch('/api/loyalty', {
      method: 'POST',
      body: JSON.stringify({
        userId,
        action: 'complete_interests',
        points: 5,
        description: 'ุฅุชูุงู ุงุฎุชูุงุฑ ุงูุงูุชูุงูุงุช'
      })
    });
    
    // ุงูุชูุฌูู ููุตูุญุฉ ุงููุฎุตุตุฉ
    router.push('/welcome/feed');
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุญูุธ ุงูุงูุชูุงูุงุช:', error);
  }
};
```

### 2. ุตูุญุฉ ุงูุชุฌุฑุจุฉ ุงููุฎุตุตุฉ
**ุงูููู**: `app/welcome/feed/page.tsx`

**ุงูููุฒุงุช**:
- ุชุฑุญูุจ ุดุฎุตู ุจุงุณู ุงููุณุชุฎุฏู
- ุนุฑุถ ุงูุงูุชูุงูุงุช ุงููุฎุชุงุฑุฉ
- ููุงูุงุช ููุชุฑุญุฉ ุจูุงุกู ุนูู ุงูุงูุชูุงูุงุช
- ุนุฑุถ ููุงุท ุงูููุงุก ุงูููุชุณุจุฉ
- ูุตุงุฆุญ ูุชุญููู ุฃูุตู ุงุณุชูุงุฏุฉ
- ุฅุญุตุงุฆูุงุช ุชุญููุฒูุฉ

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
```typescript
interface UserData {
  id: string;
  name: string;
  interests: string[];
}

interface WelcomeFeedData {
  user: UserData;
  recommendedArticles: Article[];
  loyaltyPoints: number;
  tierInfo: TierInfo;
}
```

### 3. ูุธุงู ุชุชุจุน ุงูุชูุงุนูุงุช ุงูุดุงูู
**ุงูููู**: `app/api/interactions/track-activity/route.ts`

**ุฃููุงุน ุงูุชูุงุนูุงุช ุงููุฏุนููุฉ**:
- **ูุฑุงุกุฉ ููุงู**: 1 ููุทุฉ (ุญุฏ ุฃูุตู ูุฑุฉ ูุงุญุฏุฉ ููู ููุงู)
- **ุฅุนุฌุงุจ**: 1 ููุทุฉ (ุญุฏ ุฃูุตู ูุฑุฉ ูุงุญุฏุฉ ููู ููุงู)
- **ูุดุงุฑูุฉ**: 3 ููุงุท (ุญุฏ ุฃูุตู ูุฑุฉ ูุงุญุฏุฉ ููู ููุงู)
- **ุญูุธ ููุงู**: 1 ููุทุฉ (ุญุฏ ุฃูุตู ูุฑุฉ ูุงุญุฏุฉ ููู ููุงู)
- **ุชุนููู**: 4 ููุงุท (ุญุฏ ุฃูุตู ูุฑุฉ ูุงุญุฏุฉ ููู ููุงู)

**ูุซุงู ุงูุงุณุชุฎุฏุงู**:
```typescript
const trackInteraction = async (interactionType: string) => {
  const response = await fetch('/api/interactions/track-activity', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      userId: user.id,
      articleId: article.id,
      interactionType,
      metadata: {
        source: 'article_page',
        timestamp: new Date().toISOString()
      }
    })
  });
  
  const result = await response.json();
  if (result.success && result.points_earned > 0) {
    showToast(`๐ ${result.message}`);
  }
};
```

### 4. ูุธุงู ุฅุฏุงุฑุฉ ููุงุท ุงูููุงุก
**ุงูููู**: `app/api/loyalty/route.ts`

**ุงููุณุชููุงุช**:
- **ุงูุจุฑููุฒู**: 0-99 ููุทุฉ
- **ุงููุถู**: 100-499 ููุทุฉ
- **ุงูุฐูุจู**: 500-1999 ููุทุฉ
- **ุงูุจูุงุชููู**: 2000+ ููุทุฉ

**ุงูููุฒุงุช**:
- ุญุณุงุจ ุชููุงุฆู ูููุณุชูู
- ุชุชุจุน ุงูุชูุฏู ูููุณุชูู ุงูุชุงูู
- ุชุงุฑูุฎ ุดุงูู ููููุงุท
- ุฅุญุตุงุฆูุงุช ููุตูุฉ

**ูุซุงู ุงูุงุณุชุฎุฏุงู**:
```typescript
// ุฌูุจ ููุงุท ุงูููุงุก
const response = await fetch(`/api/loyalty?userId=${userId}&includeHistory=true&includeActivities=true`);
const data = await response.json();

if (data.success) {
  const { loyalty, activities } = data;
  console.log(`ุงููุณุชูู: ${loyalty.tier}`);
  console.log(`ุงูููุงุท: ${loyalty.total_points}`);
  console.log(`ุงูุชูุฏู: ${loyalty.tier_info.progressPercentage}%`);
}
```

### 5. ุชุญุณูู ููููุงุช ุงูุชูุงุนู ูู ุงูููุงูุงุช
**ุงูููู**: `app/article/[id]/page.tsx`

**ุงูุชุญุณููุงุช**:
- ุชุชุจุน ุชููุงุฆู ููุชูุงุนูุงุช
- ุฅุดุนุงุฑุงุช ููุฑูุฉ ุจุงูููุงุท ุงูููุชุณุจุฉ
- ููุน ุงูุชูุงุนูุงุช ุงูููุฑุฑุฉ
- ุชุญุฏูุซ ููุฑู ูููุงุฌูุฉ

**ูุซุงู ุงูุชูุงุนู**:
```typescript
const handleLike = async () => {
  const newLiked = !interaction.liked;
  
  // ุชุญุฏูุซ ุงููุงุฌูุฉ ููุฑุงู
  setInteraction(prev => ({ ...prev, liked: newLiked }));
  
  // ุชุณุฌูู ุงูุชูุงุนู
  const response = await fetch('/api/interactions/track-activity', {
    method: 'POST',
    body: JSON.stringify({
      userId,
      articleId: article.id,
      interactionType: newLiked ? 'like' : 'unlike'
    })
  });
  
  // ุนุฑุถ ุฅุดุนุงุฑ ุงูููุงุท
  const result = await response.json();
  if (result.points_earned > 0) {
    showPointsToast(result.message);
  }
};
```

## ๐ ูููุงุช ุงูุจูุงูุงุช

### 1. ุชูุงุนูุงุช ุงููุณุชุฎุฏููู
**ุงูููู**: `data/user_article_interactions.json`
```json
{
  "interactions": [
    {
      "id": "interaction-1234567890-abc123",
      "user_id": "user123",
      "article_id": "article456",
      "interaction_type": "like",
      "points_earned": 1,
      "metadata": {
        "source": "article_page",
        "timestamp": "2024-01-20T10:30:00.000Z"
      },
      "timestamp": "2024-01-20T10:30:00.000Z"
    }
  ]
}
```

### 2. ููุงุท ุงูููุงุก
**ุงูููู**: `data/user_loyalty_points.json`
```json
{
  "users": [
    {
      "user_id": "user123",
      "total_points": 25,
      "earned_points": 25,
      "redeemed_points": 0,
      "tier": "bronze",
      "history": [
        {
          "action": "complete_interests",
          "points": 5,
          "timestamp": "2024-01-20T10:00:00.000Z",
          "description": "ุฅุชูุงู ุงุฎุชูุงุฑ ุงูุงูุชูุงูุงุช"
        }
      ],
      "created_at": "2024-01-20T10:00:00.000Z",
      "last_updated": "2024-01-20T10:30:00.000Z"
    }
  ]
}
```

### 3. ุฃูุดุทุฉ ุงููุณุชุฎุฏููู
**ุงูููู**: `data/user_activities.json`
```json
{
  "activities": [
    {
      "id": "activity-1234567890-abc123",
      "user_id": "user123",
      "action": "like",
      "description": "ุฅุนุฌุงุจ ุจููุงู - article456",
      "points_earned": 1,
      "article_id": "article456",
      "metadata": {
        "source": "article_page"
      },
      "timestamp": "2024-01-20T10:30:00.000Z"
    }
  ]
}
```

## ๐ ุชุฏูู ุงูุชุฌุฑุจุฉ ุงููุงูู

### 1. ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ
```mermaid
graph TD
    A[ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ] --> B[ุตูุญุฉ ุงุฎุชูุงุฑ ุงูุงูุชูุงูุงุช]
    B --> C[ุงุฎุชูุงุฑ ุงูุงูุชูุงูุงุช]
    C --> D[ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช]
    D --> E[ููุญ 5 ููุงุท ููุงุก]
    E --> F[ุชูุฌูู ูุตูุญุฉ ุงูุชุฌุฑุจุฉ ุงููุฎุตุตุฉ]
    F --> G[ุนุฑุถ ุงูุชุฑุญูุจ ูุงูููุงูุงุช ุงูููุชุฑุญุฉ]
    G --> H[ุจุฏุก ุงูุชูุงุนู ูุน ุงููุญุชูู]
```

### 2. ุชูุงุนู ูุน ุงูููุงู
```mermaid
graph TD
    A[ูุฑุงุกุฉ ููุงู] --> B[ุชุณุฌูู ูุดุงูุฏุฉ]
    B --> C[ุชูุงุนู: ุฅุนุฌุงุจ/ูุดุงุฑูุฉ/ุญูุธ]
    C --> D[ุชุญูู ูู ุงูุญุฏูุฏ]
    D --> E{ูุณููุญุ}
    E -->|ูุนู| F[ุชุณุฌูู ุงูุชูุงุนู]
    E -->|ูุง| G[ุฑูุถ ุงูุชูุงุนู]
    F --> H[ุญุณุงุจ ุงูููุงุท]
    H --> I[ุชุญุฏูุซ ููุงุท ุงูููุงุก]
    I --> J[ุชุณุฌูู ุงููุดุงุท]
    J --> K[ุนุฑุถ ุฅุดุนุงุฑ ุงูููุงุท]
```

### 3. ุชุทูุฑ ุงููุณุชูู
```mermaid
graph TD
    A[ุฌูุน ุงูููุงุท] --> B{ุงูููุงุท >= 100ุ}
    B -->|ูุนู| C[ุชุฑููุฉ ูููุถู]
    B -->|ูุง| D[ุงูุจูุงุก ูู ุงูุจุฑููุฒู]
    C --> E{ุงูููุงุท >= 500ุ}
    E -->|ูุนู| F[ุชุฑููุฉ ููุฐูุจู]
    E -->|ูุง| G[ุงูุจูุงุก ูู ุงููุถู]
    F --> H{ุงูููุงุท >= 2000ุ}
    H -->|ูุนู| I[ุชุฑููุฉ ููุจูุงุชููู]
    H -->|ูุง| J[ุงูุจูุงุก ูู ุงูุฐูุจู]
```

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### 1. ุฅุดุนุงุฑุงุช ุงูููุงุท
```typescript
const showPointsToast = (message: string) => {
  const toast = document.createElement('div');
  toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse';
  toast.textContent = `๐ ${message}`;
  document.body.appendChild(toast);
  setTimeout(() => document.body.removeChild(toast), 3000);
};
```

### 2. ูุคุดุฑ ุงูุชูุฏู
```typescript
const ProgressBar = ({ currentPoints, nextTierPoints, percentage }) => (
  <div className="w-full bg-gray-200 rounded-full h-2">
    <div 
      className="bg-blue-600 h-2 rounded-full transition-all duration-500"
      style={{ width: `${percentage}%` }}
    />
    <p className="text-sm text-gray-600 mt-1">
      {nextTierPoints - currentPoints} ููุทุฉ ูููุณุชูู ุงูุชุงูู
    </p>
  </div>
);
```

## ๐ง ุงูุงุฎุชุจุงุฑ ูุงูุชุญูู

### 1. ุงุฎุชุจุงุฑ ุชุฏูู ุงูุงูุชูุงูุงุช
```bash
# ุฒูุงุฑุฉ ุตูุญุฉ ุงูุงูุชูุงูุงุช
curl -X GET http://localhost:3000/welcome/preferences

# ุงุฎุชุจุงุฑ ุญูุธ ุงูุงูุชูุงูุงุช
curl -X POST http://localhost:3000/api/loyalty \
  -H "Content-Type: application/json" \
  -d '{"userId":"test123","action":"complete_interests","points":5}'
```

### 2. ุงุฎุชุจุงุฑ ุชุชุจุน ุงูุชูุงุนูุงุช
```bash
# ุชุณุฌูู ุฅุนุฌุงุจ
curl -X POST http://localhost:3000/api/interactions/track-activity \
  -H "Content-Type: application/json" \
  -d '{"userId":"test123","articleId":"article456","interactionType":"like"}'

# ุชุณุฌูู ูุดุงุฑูุฉ
curl -X POST http://localhost:3000/api/interactions/track-activity \
  -H "Content-Type: application/json" \
  -d '{"userId":"test123","articleId":"article456","interactionType":"share"}'
```

### 3. ุงุฎุชุจุงุฑ ููุงุท ุงูููุงุก
```bash
# ุฌูุจ ููุงุท ุงูููุงุก
curl -X GET "http://localhost:3000/api/loyalty?userId=test123&includeHistory=true"

# ุฅุถุงูุฉ ููุงุท ูุฏููุงู
curl -X POST http://localhost:3000/api/loyalty \
  -H "Content-Type: application/json" \
  -d '{"userId":"test123","action":"manual","points":10,"description":"ููุงุท ุฅุถุงููุฉ"}'
```

## ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก

### 1. ูุนุฏูุงุช ุงูุชูุงุนู
- **ูุนุฏู ุงูุฅุนุฌุงุจ**: ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช / ุนุฏุฏ ุงููุดุงูุฏุงุช
- **ูุนุฏู ุงููุดุงุฑูุฉ**: ุนุฏุฏ ุงููุดุงุฑูุงุช / ุนุฏุฏ ุงููุดุงูุฏุงุช
- **ูุนุฏู ุงูุญูุธ**: ุนุฏุฏ ุงูุญูุธ / ุนุฏุฏ ุงููุดุงูุฏุงุช

### 2. ุชูุฒูุน ุงููุณุชููุงุช
- **ุงูุจุฑููุฒู**: ูุณุจุฉ ุงููุณุชุฎุฏููู ูู ุงููุณุชูู ุงูุจุฑููุฒู
- **ุงููุถู**: ูุณุจุฉ ุงููุณุชุฎุฏููู ูู ุงููุณุชูู ุงููุถู
- **ุงูุฐูุจู**: ูุณุจุฉ ุงููุณุชุฎุฏููู ูู ุงููุณุชูู ุงูุฐูุจู
- **ุงูุจูุงุชููู**: ูุณุจุฉ ุงููุณุชุฎุฏููู ูู ุงููุณุชูู ุงูุจูุงุชููู

### 3. ูุชูุณุท ุงูููุงุท
- **ููุงุท ููููุฉ**: ูุชูุณุท ุงูููุงุท ุงูููุชุณุจุฉ ููููุงู
- **ููุงุท ุดูุฑูุฉ**: ูุชูุณุท ุงูููุงุท ุงูููุชุณุจุฉ ุดูุฑูุงู
- **ููุงุท ููู ุชูุงุนู**: ูุชูุณุท ุงูููุงุท ููู ููุน ุชูุงุนู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### 1. ููุฒุงุช ููุชุฑุญุฉ
- **ููุงูุขุช ุงููุณุชููุงุช**: ููุงูุขุช ุฎุงุตุฉ ููู ูุณุชูู
- **ุชุญุฏูุงุช ููููุฉ**: ููุงู ููููุฉ ููุณุจ ููุงุท ุฅุถุงููุฉ
- **ูุธุงู ุงูุฅุญุงูุฉ**: ููุงุท ูุฏุนูุฉ ุฃุตุฏูุงุก ุฌุฏุฏ
- **ูุชุฌุฑ ุงูููุงุท**: ุงุณุชุจุฏุงู ุงูููุงุท ุจููุงูุขุช

### 2. ุชุญุณููุงุช ุชูููุฉ
- **ุชุญูููุงุช ูุชูุฏูุฉ**: ุชูุงุฑูุฑ ููุตูุฉ ุนู ุณููู ุงููุณุชุฎุฏููู
- **ุฅุดุนุงุฑุงุช ููุฑูุฉ**: ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู
- **ุชุฎุตูุต ุฃุนูู**: ุฎูุงุฑุฒููุงุช ุฃูุซุฑ ุฐูุงุกู ูููุญุชูู ุงูููุชุฑุญ
- **ุชูุงูู ุงุฌุชูุงุนู**: ุฑุจุท ูุน ุดุจูุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 1. ุญูุงูุฉ ุงูุจูุงูุงุช
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช
- ููุน ุงููุฌูุงุช ุงููุชูุฑุฑุฉ
- ุญูุงูุฉ ูู ุงูุชูุงุนุจ ุจุงูููุงุท

### 2. ุงูุฎุตูุตูุฉ
- ุดูุงููุฉ ูู ุฌูุน ุงูุจูุงูุงุช
- ุฅููุงููุฉ ุญุฐู ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ุงูุฎุตูุตูุฉ
- ุงูุชุซุงู ูููุงููู ุงูุฎุตูุตูุฉ

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ุตุญููุฉ ุณุจู ูุชุถูู:

โ **ุฅุตูุงุญ ูุดููุฉ ุงูุงูุชูุงูุงุช** - ุญูุธ ูุนูู ูุชูุฌูู ุตุญูุญ
โ **ูุธุงู ููุงุก ูุชูุงูู** - ุชุชุจุน ุงูุชูุงุนูุงุช ูุญุณุงุจ ุงูููุงุท
โ **ุชุฌุฑุจุฉ ูุฎุตุตุฉ** - ุตูุญุฉ ุชุฑุญูุจูุฉ ููุญุชูู ููุชุฑุญ
โ **ูุงุฌูุฉ ุชูุงุนููุฉ** - ุฅุดุนุงุฑุงุช ููุฑูุฉ ููุคุดุฑุงุช ุชูุฏู
โ **ูุธุงู ูุณุชููุงุช** - ุชุญููุฒ ุงููุณุชุฎุฏููู ููุชูุงุนู ุฃูุซุฑ

ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ ูุชูุงุนููุฉ ุชุดุฌุน ุนูู ุงููุดุงุฑูุฉ ูุงูููุงุก ููููุตุฉ. 