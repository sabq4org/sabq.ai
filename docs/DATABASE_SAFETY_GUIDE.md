# ุฏููู ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุญุฐู ุงูุนุฑุถู
๐ ุงูุชุงุฑูุฎ: 29 ููุงูุฑ 2025

## ๐จ **ุงูุฃูุงูุฑ ุงูุฎุทูุฑุฉ (ููููุนุฉ):**

### โ **ููููุน ุชูุงูุงู:**
```bash
# ูุญุฐู ุฌููุน ุงูุจูุงูุงุช ููุงุฆูุงู
npx prisma db push --force-reset

# ูุญุฐู ุฌููุน ุงูุฌุฏุงูู
npx prisma migrate reset

# ูุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงููุงูู
npx prisma db push --force-reset --accept-data-loss
```

## โ **ุงูุฃูุงูุฑ ุงูุขููุฉ:**

### ๐ **ููุชุญุฏูุซุงุช:**
```bash
# ุชุญุฏูุซ ุงููุฎุทุท ููุท (ุขูู)
npx prisma db push

# ุชุทุจูู ุงูุชุฑุญููุงุช ุงูุฌุฏูุฏุฉ (ุขูู)
npx prisma migrate deploy

# ูุฒุงููุฉ ุงููุฎุทุท ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุขูู)
npx prisma db pull
```

### ๐ **ูููุณุฎ ุงูุงุญุชูุงุทูุฉ:**
```bash
# ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
npx prisma db pull --print > schema_backup_$(date +%Y%m%d_%H%M%S).prisma

# ุชุตุฏูุฑ ุงูุจูุงูุงุช
npx prisma db seed --preview-feature
```

## ๐ก๏ธ **ุฅุฌุฑุงุกุงุช ุงูุญูุงูุฉ:**

### 1. **ูุจู ุฃู ุนูููุฉ:**
```bash
# 1. ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
mysqldump -h aws.connect.psdb.cloud -u USERNAME -p DATABASE_NAME > backup_$(date +%Y%m%d_%H%M%S).sql

# 2. ุงูุชุญูู ูู ุงูุจูุงูุงุช
npx prisma studio

# 3. ุงุฎุชุจุงุฑ ุนูู ุจูุฆุฉ ุชุทููุฑ
# ุชุฃูุฏ ูู ุฃู DATABASE_URL ูุดูุฑ ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ุงุฎุชุจุงุฑ
```

### 2. **ุฅุนุฏุงุฏุงุช PlanetScale:**
- โ **ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ**
- โ **ุชูุนูู ุงุณุชุนุงุฏุฉ ุงูููุงุท ุงูุฒูููุฉ**
- โ **ุชูุนูู ุญูุงูุฉ ูู ุงูุญุฐู**
- โ **ุฅุนุฏุงุฏ ุชูุจููุงุช ููุญุฐู**

### 3. **ุฅุฌุฑุงุกุงุช ุงููุฑูู:**
- โ **ูุฑุงุฌุนุฉ ูุฒุฏูุฌุฉ** ูุจู ุฃู ุฃูุฑ ุฎุทูุฑ
- โ **ุงุฎุชุจุงุฑ ุนูู ุจูุฆุฉ ุชุทููุฑ** ุฃููุงู
- โ **ุชูุซูู ุฌููุน ุงูุนูููุงุช**
- โ **ุชุฏุฑูุจ ุงููุฑูู** ุนูู ุงูุฃูุงูุฑ ุงูุขููุฉ

## ๐ง **ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ:**

### `.env` **ููุจูุฆุงุช ุงููุฎุชููุฉ:**
```bash
# ุงูุชุทููุฑ (ุขูู)
DATABASE_URL="mysql://dev_user:dev_pass@localhost/dev_db"

# ุงูุงุฎุชุจุงุฑ (ุขูู)
DATABASE_URL="mysql://test_user:test_pass@localhost/test_db"

# ุงูุฅูุชุงุฌ (ูุญูู)
DATABASE_URL="mysql://prod_user:prod_pass@aws.connect.psdb.cloud/prod_db"
```

### **ุณูุฑูุจุช ุงูุญูุงูุฉ:**
```bash
#!/bin/bash
# scripts/safe-db-operations.sh

echo "โ๏ธ  ุชุญุฐูุฑ: ูู ุฃูุช ูุชุฃูุฏ ูู ุฃูู ูู ุงูุจูุฆุฉ ุงูุตุญูุญุฉุ"
echo "ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ: $DATABASE_URL"
read -p "ุงูุชุจ 'YES' ููุชุฃููุฏ: " confirm

if [ "$confirm" != "YES" ]; then
    echo "โ ุชู ุฅูุบุงุก ุงูุนูููุฉ"
    exit 1
fi

echo "โ ุจุฏุก ุงูุนูููุฉ ุงูุขููุฉ..."
```

## ๐ **ูุงุฆูุฉ ูุฑุงุฌุนุฉ ูุจู ุฃู ุนูููุฉ:**

- [ ] ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- [ ] ุงูุชุญูู ูู ุงูุจูุฆุฉ (dev/test/prod)
- [ ] ุงุฎุชุจุงุฑ ุนูู ุจูุฆุฉ ุชุทููุฑ
- [ ] ูุฑุงุฌุนุฉ ูุฒุฏูุฌุฉ ูู ุนุถู ุขุฎุฑ ูู ุงููุฑูู
- [ ] ุชูุซูู ุงูุนูููุฉ
- [ ] ุฅุนุฏุงุฏ ุฎุทุฉ ุงุณุชุนุงุฏุฉ ูู ุญุงูุฉ ุงูุทูุงุฑุฆ

## ๐จ **ูู ุญุงูุฉ ุงูุทูุงุฑุฆ:**

### **ุฅุฐุง ุชู ุญุฐู ุงูุจูุงูุงุช:**
1. **ูุง ุชูุนู ุฃู ุดูุก ุขุฎุฑ** - ุชููู ููุฑุงู
2. **ุชุญูู ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ** ูู PlanetScale
3. **ุงุณุชุฎุฏู ุงุณุชุนุงุฏุฉ ุงูููุงุท ุงูุฒูููุฉ** ุฅุฐุง ูุงูุช ูุชุงุญุฉ
4. **ุฑุงุฌุน ุณุฌูุงุช ุงูุนูููุงุช** ูุชุญุฏูุฏ ูุง ุญุฏุซ
5. **ุชูุงุตู ูุน ุงูุฏุนู ุงูููู** ุฅุฐุง ูุฒู ุงูุฃูุฑ

### **ุฃุฑูุงู ุงูุทูุงุฑุฆ:**
- **PlanetScale Support**: support@planetscale.com
- **ูุฑูู ุงูุชุทููุฑ**: [ุฃุฑูุงู ุงููุฑูู]
- **ูุฏูุฑ ุงููุธุงู**: [ุฑูู ุงููุฏูุฑ]

## ๐ **ููุงุฑุฏ ุฅุถุงููุฉ:**

- [Prisma Database Safety](https://www.prisma.io/docs/guides/database/database-safety)
- [PlanetScale Backup & Restore](https://planetscale.com/docs/concepts/backup-and-restore)
- [MySQL Safety Best Practices](https://dev.mysql.com/doc/refman/8.0/en/backup-methods.html)

---

**ุชุฐูุฑ: ุงูููุงูุฉ ุฎูุฑ ูู ุงูุนูุงุฌ! ๐ก๏ธ** 