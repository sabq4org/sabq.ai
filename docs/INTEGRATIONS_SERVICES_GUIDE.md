# ๐ ุฏููู ุชูุงููุงุช ูุฒูุฏู ุงูุฎุฏูุงุช - Sabq AI CMS

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฏุนู ูุธุงู **Sabq AI CMS** ุชูุงููุงุช ูุชูุฏูุฉ ูุน ุฃูุซุฑ ูู 20 ูุฒูุฏ ุฎุฏูุฉ ูุฎุชูู ูุชูููุฑ ุชุฌุฑุจุฉ ุดุงููุฉ ููุชุทูุฑุฉ. ูุถูู ุงููุธุงู ุงูุฃูุงู ูุงูููุซูููุฉ ูุงููุฑุงูุจุฉ ุงููุณุชูุฑุฉ ูุฌููุน ุงูุชูุงููุงุช.

**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024  
**ุงูุฅุตุฏุงุฑ:** 2.1.0

---

## ๐ฏ ุงูุฃููุงุน ุงููุฏุนููุฉ

### 1. ๐ ุดุจูุฉ ุชูุตูู ุงููุญุชูู (CDN)
- **Cloudflare** - ุฃูุงู ูุชุณุฑูุน ุงูููุงูุน
- **Akamai** - ุชูุฒูุน ุงููุญุชูู ุงูุนุงููู
- **Fastly** - CDN ุนุงูู ุงูุฃุฏุงุก
- **AWS CloudFront** - CDN ุฃูุงุฒูู
- **Cloudinary** - ุฅุฏุงุฑุฉ ุงููุณุงุฆุท ูุงูุตูุฑ

### 2. ๐พ ุชุฎุฒูู ุณุญุงุจู
- **Supabase Storage** - ุชุฎุฒูู ุงููููุงุช ุงูุฑุฆูุณู
- **AWS S3** - ุชุฎุฒูู ุงููููุงุช ุงููุชูุฏู
- **Google Cloud Storage** - ุชุฎุฒูู ุฌูุฌู
- **Azure Blob Storage** - ุชุฎุฒูู ูุงููุฑูุณููุช

### 3. ๐ณ ุฏูุน ุฅููุชุฑููู
- **Stripe** - ูุธุงู ุงููุฏููุนุงุช ุงูุฑุฆูุณู
- **Tap** - ุจูุงุจุฉ ุงูุฏูุน ุงูุณุนูุฏูุฉ
- **PayPal** - ุฏูุน ุนุงููู
- **Checkout.com** - ูุนุงูุฌุฉ ุงููุฏููุนุงุช

### 4. ๐ ุฅุดุนุงุฑุงุช
- **OneSignal** - ุฅุดุนุงุฑุงุช ุงูููุจ ูุงูุฌูุงู
- **Firebase Cloud Messaging (FCM)** - ุฅุดุนุงุฑุงุช ุฌูุฌู
- **Pusher** - ุฅุดุนุงุฑุงุช ููุฑูุฉ
- **WebPush** - ุฅุดุนุงุฑุงุช ุงููุชุตูุญ

### 5. ๐ฑ ุดุจูุงุช ุงุฌุชูุงุนูุฉ
- **X (Twitter)** - ูุดุฑ ูุชุญููู ุงูุชุบุฑูุฏุงุช
- **Facebook** - ูุดุฑ ูุชุญููู ุงูููุดูุฑุงุช
- **Threads** - ููุตุฉ ููุชุง ูููุญุงุฏุซุงุช
- **LinkedIn** - ุงูุดุจูุฉ ุงูููููุฉ
- **Instagram** - ูุดุงุฑูุฉ ุงูุตูุฑ ูุงูููุฏูู

### 6. ๐ ูุฒูุฏุงุช ุชุญูููุงุช
- **Google Analytics** - ุชุญูููุงุช ุงูููุจ
- **Metabase** - ุชุญูููุงุช ุงูุจูุงูุงุช ุงููุชูุฏูุฉ
- **Mixpanel** - ุชุญููู ุณููู ุงููุณุชุฎุฏููู
- **Amplitude** - ุชุญููู ุงูุฃุญุฏุงุซ

### 7. ๐ค ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- **OpenAI** - GPT-4 ูุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- **Anthropic Claude** - ุชุญููู ููุฑุงุฌุนุฉ ุงููุญุชูู
- **Google AI** - Gemini ูุฎุฏูุงุช ุฌูุฌู
- **Cohere** - ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉ

### 8. ๐ ูุญุฑูุงุช ุงูุจุญุซ
- **Algolia** - ุจุญุซ ูุชูุฏู
- **Elasticsearch** - ุจุญุซ ูุชุญููู ุงูุจูุงูุงุช
- **Meilisearch** - ุจุญุซ ุณุฑูุน ูููุชูุญ ุงููุตุฏุฑ

---

## ๐ก๏ธ ุณูุงุณุงุช ุงูุชูุงูู

### 1. ุงูุชุณุฌูู ูุงููุฑุงูุจุฉ
```typescript
// ูู ุชูุงูู ููุณุฌู ูู ุณุฌู ุงูุชุบููุฑ
const integrationLog = {
  integrationId: 'stripe-payment',
  changeType: 'CONFIGURATION_UPDATE',
  oldValue: { webhook_url: 'old-url' },
  newValue: { webhook_url: 'new-url' },
  changedBy: 'admin@sabq.ai',
  timestamp: new Date(),
  reason: 'ุชุญุฏูุซ ุฑุงุจุท ุงูููุจ ููู'
};
```

### 2. ุชุดููุฑ ุงูููุงุชูุญ ูุงูุตูุงุญูุงุช
```typescript
// ุฌููุน ุงูููุงุชูุญ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู AES-256
const encryptedCredentials = {
  apiKey: encrypt(apiKey, process.env.ENCRYPTION_KEY),
  secret: encrypt(secret, process.env.ENCRYPTION_KEY),
  token: encrypt(token, process.env.ENCRYPTION_KEY)
};
```

### 3. ูุฑุงุฌุนุฉ ุฏูุฑูุฉ ููุตูุงุญูุงุช
- **ุฃุณุจูุนูุงู**: ูุฑุงุฌุนุฉ ุตูุงุญูุงุช ุงูุชูุงููุงุช ุงููุดุทุฉ
- **ุดูุฑูุงู**: ุชุฏููู ุดุงูู ูุฌููุน ุงูุชูุงููุงุช
- **ุฑุจุน ุณููู**: ูุฑุงุฌุนุฉ ุงุณุชุฑุงุชูุฌูุฉ ููุชูุงููุงุช

### 4. ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ
```typescript
const riskAssessment = {
  level: 'HIGH' | 'MEDIUM' | 'LOW',
  factors: ['data_access', 'payment_processing', 'user_data'],
  mitigations: ['encryption', 'access_logging', 'regular_audits'],
  lastReview: new Date()
};
```

---

## ๐ ุชูููู ุงูุชูุงููุงุช

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ
```env
# CDN Providers
CLOUDFLARE_ZONE_ID="your-zone-id"
CLOUDFLARE_API_TOKEN="your-api-token"
AKAMAI_CLIENT_TOKEN="your-client-token"
FASTLY_API_TOKEN="your-fastly-token"

# Payment Providers
STRIPE_PUBLISHABLE_KEY="pk_live_your-stripe-key"
STRIPE_SECRET_KEY="sk_live_your-stripe-secret"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"
TAP_PUBLISHABLE_KEY="pk_live_your-tap-key"
TAP_SECRET_KEY="sk_live_your-tap-secret"

# Notification Services
ONESIGNAL_APP_ID="your-onesignal-app-id"
ONESIGNAL_API_KEY="your-onesignal-api-key"
FCM_SERVER_KEY="your-fcm-server-key"
FCM_SENDER_ID="your-fcm-sender-id"

# Social Media
X_API_KEY="your-x-api-key"
X_API_SECRET="your-x-api-secret"
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
THREADS_ACCESS_TOKEN="your-threads-token"

# Analytics
GOOGLE_ANALYTICS_ID="GA-MEASUREMENT-ID"
METABASE_SITE_URL="https://metabase.sabq.ai"
METABASE_API_KEY="your-metabase-api-key"
MIXPANEL_PROJECT_TOKEN="your-mixpanel-token"
```

### ูุซุงู ุนูู ุชูููู ุงูุชูุงูู
```typescript
// ุชูููู Tap Payment
const tapConfig = {
  id: 'tap-payment',
  name: 'Tap Payment Gateway',
  type: 'PAYMENT',
  status: 'ACTIVE',
  config: {
    apiKey: process.env.TAP_SECRET_KEY,
    publishableKey: process.env.TAP_PUBLISHABLE_KEY,
    webhookSecret: process.env.TAP_WEBHOOK_SECRET,
    currency: 'SAR',
    environment: 'production',
    features: ['card_payments', 'knet', 'benefit', 'sadad']
  },
  endpoints: {
    api: 'https://api.tap.company/v2',
    webhook: 'https://sabq.ai/api/webhooks/tap'
  },
  authentication: {
    type: 'bearer',
    token: process.env.TAP_SECRET_KEY
  }
};
```

---

## ๐ง APIs ุงูุชูุงููุงุช

### 1. API ุฅุฏุงุฑุฉ ุงูุชูุงููุงุช
```typescript
// GET /api/integrations
// ุงูุญุตูู ุนูู ุฌููุน ุงูุชูุงููุงุช
const integrations = await fetch('/api/integrations', {
  headers: { 'Authorization': `Bearer ${token}` }
});

// POST /api/integrations
// ุฅุถุงูุฉ ุชูุงูู ุฌุฏูุฏ
const newIntegration = await fetch('/api/integrations', {
  method: 'POST',
  headers: { 
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify(integrationConfig)
});

// PUT /api/integrations/{id}
// ุชุญุฏูุซ ุชูุงูู ููุฌูุฏ
const updatedIntegration = await fetch(`/api/integrations/${id}`, {
  method: 'PUT',
  headers: { 
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify(updatedConfig)
});
```

### 2. API ุงููุฏููุนุงุช
```typescript
// POST /api/payments/stripe/create-intent
// ุฅูุดุงุก ููุฉ ุฏูุน ุจู Stripe
const stripeIntent = await fetch('/api/payments/stripe/create-intent', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    amount: 10000, // 100 SAR
    currency: 'sar',
    customerId: 'customer-id'
  })
});

// POST /api/payments/tap/create-charge
// ุฅูุดุงุก ุนูููุฉ ุฏูุน ุจู Tap
const tapCharge = await fetch('/api/payments/tap/create-charge', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    amount: 100,
    currency: 'SAR',
    source: { id: 'card-token' }
  })
});
```

### 3. API ุงูุฅุดุนุงุฑุงุช
```typescript
// POST /api/notifications/onesignal/send
// ุฅุฑุณุงู ุฅุดุนุงุฑ ุนุจุฑ OneSignal
const notification = await fetch('/api/notifications/onesignal/send', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    app_id: process.env.ONESIGNAL_APP_ID,
    contents: { ar: 'ุฑุณุงูุฉ ุงูุฅุดุนุงุฑ', en: 'Notification message' },
    included_segments: ['All']
  })
});
```

### 4. API ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ
```typescript
// POST /api/social/x/tweet
// ูุดุฑ ุชุบุฑูุฏุฉ ุนูู X
const tweet = await fetch('/api/social/x/tweet', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    text: 'ูุญุชูู ุงูุชุบุฑูุฏุฉ',
    media_ids: ['media-id-1', 'media-id-2']
  })
});

// POST /api/social/facebook/post
// ูุดุฑ ููุดูุฑ ุนูู Facebook
const fbPost = await fetch('/api/social/facebook/post', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    message: 'ูุญุชูู ุงูููุดูุฑ',
    link: 'https://sabq.ai/article/123'
  })
});
```

---

## ๐ ูุฑุงูุจุฉ ุงูุชูุงููุงุช

### ููุญุฉ ุงููุฑุงูุจุฉ ุงูุฑุฆูุณูุฉ
```typescript
const monitoringDashboard = {
  activeIntegrations: 15,
  totalRequests: 1250000,
  successRate: 99.8,
  averageResponseTime: 120, // ms
  failedRequests: 2500,
  lastIncident: '2024-12-01T10:00:00Z'
};
```

### ุฅูุฐุงุฑุงุช ุงูุชูุงููุงุช
```typescript
// ุชูููู ุงูุฅูุฐุงุฑุงุช
const alertConfig = {
  responseTime: { threshold: 500, enabled: true },
  errorRate: { threshold: 5, enabled: true },
  downtime: { threshold: 60, enabled: true },
  rateLimits: { threshold: 80, enabled: true },
  notifications: {
    email: ['admin@sabq.ai'],
    slack: '#alerts-channel',
    webhook: 'https://sabq.ai/api/alerts'
  }
};
```

---

## ๐ ุงูุฃูุงู ูุงูุงูุชุซุงู

### 1. ุงูุชุดููุฑ
- **AES-256** ูุชุดููุฑ ุงูููุงุชูุญ ูุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- **RSA-2048** ูุชุจุงุฏู ุงูููุงุชูุญ
- **SHA-256** ูุชูููุน ุงูุจูุงูุงุช

### 2. ุงูุชุญูู ูู ุงูุตุญุฉ
```typescript
// ุชุญูู ูู ุตุญุฉ ุงูููุจ ููู
const verifyWebhook = (payload: string, signature: string, secret: string) => {
  const expectedSignature = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(expectedSignature)
  );
};
```

### 3. ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
```typescript
const permissions = {
  integrations: {
    create: ['admin', 'integration_manager'],
    read: ['admin', 'integration_manager', 'developer'],
    update: ['admin', 'integration_manager'],
    delete: ['admin']
  },
  configurations: {
    view: ['admin', 'integration_manager'],
    edit: ['admin']
  }
};
```

---

## ๐จ ุฎุทุฉ ุงูุทูุงุฑุฆ

### 1. ูู ุญุงูุฉ ุชููู ุงูุชูุงูู
1. **ุชูุนูู ุงููุธุงู ุงูุจุฏูู** (ุฅู ูุฌุฏ)
2. **ุฅุดุนุงุฑ ููุฑู** ููุฑูู ุงูุทูุงุฑุฆ
3. **ุชุณุฌูู ุงูุญุงุฏุซ** ูู ูุธุงู ุงููุฑุงูุจุฉ
4. **ุชุญุฏูุซ ุงููุณุชุฎุฏููู** ุนุจุฑ ุงููููุงุช ุงูุฑุณููุฉ
5. **ุชูุฑูุฑ ูุง ุจุนุฏ ุงูุญุงุฏุซ** (Post-incident report)

### 2. ุงูุฃูุธูุฉ ุงูุจุฏููุฉ
```typescript
const fallbackSystems = {
  payment: {
    primary: 'stripe',
    fallback: 'tap',
    emergency: 'paypal'
  },
  notifications: {
    primary: 'onesignal',
    fallback: 'fcm',
    emergency: 'email'
  },
  storage: {
    primary: 'supabase',
    fallback: 's3',
    emergency: 'local'
  }
};
```

---

## ๐ ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช

### 1. ุชูุงุฑูุฑ ุฃุณุจูุนูุฉ
- **ุงูุฃุฏุงุก**: ูุชูุณุท ููุช ุงูุงุณุชุฌุงุจุฉ ููู ุชูุงูู
- **ุงูููุซูููุฉ**: ูุณุจุฉ ุงููุฌุงุญ ูุฃููุงุช ุงูุชููู
- **ุงูุงุณุชุฎุฏุงู**: ุนุฏุฏ ุงูุทูุจุงุช ูุงูุงุณุชููุงู
- **ุงูุชูููุฉ**: ูููุงุช ูู ุชูุงูู

### 2. ุชูุงุฑูุฑ ุดูุฑูุฉ
- **ุชุญููู ุงูุงุชุฌุงูุงุช**: ููู ุงูุงุณุชุฎุฏุงู ูุงูุฃุฏุงุก
- **ูุฑุงุฌุนุฉ ุงูุฃูุงู**: ุฃุญุฏุงุซ ุงูุฃูุงู ูุงููุฎุงุทุฑ
- **ุงูุชุญุณููุงุช**: ุงูุชุฑุงุญุงุช ูุชุญุณูู ุงูุฃุฏุงุก
- **ุงูุชูุงููู**: ููุงุฑูุฉ ุงูุชูุงููู ูุชุญุณูููุง

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

### ูุซุงุฆู ุงูุชูุงููุงุช
- [ุณุฌู ุงูุชุบููุฑ](./CDN_PROVIDERS_INTEGRATIONS_CHANGE_LOG.md)
- [ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช](./DATABASE_SCHEMA_DOCUMENTATION.md)
- [ูุซุงุฆู API](./BACKEND_API_DOCUMENTATION.md)

### ูุฑุงูุจุฉ ุงูุชูุงููุงุช
- [ููุญุฉ ูุฑุงูุจุฉ Supabase](https://supabase.com/dashboard)
- [ุฅุญุตุงุฆูุงุช Cloudinary](https://cloudinary.com/console)
- [ุชุญูููุงุช Stripe](https://dashboard.stripe.com)
- [ูุฑุงูุจุฉ OneSignal](https://onesignal.com/dashboard)

---

## ๐ ุงูุฏุนู ุงูููู

### ูุฑูู ุงูุชูุงููุงุช
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: integrations@sabq.ai
- **ุงููุงุชู**: +966-11-XXX-XXXX
- **ุงูุทูุงุฑุฆ**: emergency@sabq.ai

### ุณุงุนุงุช ุงูุนูู
- **ุงูุฏุนู ุงูุนุงุฏู**: ุงูุฃุญุฏ - ุงูุฎููุณุ 9:00 - 18:00 AST
- **ุงูุฏุนู ุงูุทุงุฑุฆ**: 24/7 ููุฃุนุถุงุก ุงููููุฒูู

---

## ๐ ููุงุญุธุงุช ูููุฉ

โ๏ธ **ุชุฐููุฑุงุช ูููุฉ:**
- ุชุฃูุฏ ูู ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุนูุฏ ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงูุชูุงูู
- ุงุฎุชุจุฑ ุฌููุน ุงูุชูุงููุงุช ูู ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ ูุจู ุงููุดุฑ
- ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูู ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุชูุงูู
- ุฑุงุฌุน ุณุฌู ุงูุชุบููุฑ ุฏูุฑูุงู ูุชุชุจุน ุงูุชุญุฏูุซุงุช
- ุงุณุชุฎุฏู ุฃุฏูุงุช ุงููุฑุงูุจุฉ ููุชุงุจุนุฉ ุฃุฏุงุก ุงูุชูุงููุงุช

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024  
**ุงููุทูุฑ:** ูุฑูู Sabq AI  
**ุงูุฅุตุฏุงุฑ:** 2.1.0 