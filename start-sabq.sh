#!/bin/bash

# ุณูุฑูุจุช ุชุดุบูู ูุดุฑูุน ุณุจู
# ูุชุฃูุฏ ูู ูุฌูุฏ ุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญุฉ ุซู ูุดุบู ุงููุดุฑูุน

echo "๐ ุจุฏุก ุชุดุบูู ูุดุฑูุน ุณุจู..."

# ุงูุชุญูู ูู ูุฌูุฏ ููู ุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญ
if [ ! -f .env.local ] || ! grep -q "postgresql://" .env.local; then
    echo "โ๏ธ  ุงูุฅุนุฏุงุฏุงุช ุบูุฑ ุตุญูุญุฉุ ุฌุงุฑู ุฅุนุฏุงุฏ ุงูุจูุฆุฉ..."
    ./scripts/setup-env.sh
fi

# ุชูููุฏ Prisma Client
echo "๐ง ุชูููุฏ Prisma Client..."
npx prisma generate

# ุชุดุบูู ุงููุดุฑูุน
echo "๐ ุชุดุบูู ุงููุดุฑูุน..."
npm run dev 